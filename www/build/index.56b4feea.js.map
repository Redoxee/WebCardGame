{"mappings":"IOGI,CLHJ,OAAM,EACF,YAAY,CAAC,CAAE,CAAC,CAAE,CACV,AAAM,OAAN,GACA,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,IAGT,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,EAEjB,CACA,UAAW,CACP,MAAO,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA,CAAE,EAAE,EAAE,IAAI,CAAC,CAAA,CAAE,CAAC,CAAC,AACnC,CACA,QAAS,CACL,OAAO,KAAK,IAAA,CAAK,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAjD,CACJ,CACA,WAAY,CACR,IAAM,EAAS,IAAI,CAAC,MAApB,GAGA,OAFA,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,EAClB,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,EACX,IAAI,AACf,CACA,MAAO,CACH,IAAM,EAAS,IAAI,CAAC,MAApB,GACA,OAAO,IAAI,EAAK,IAAI,CAAC,CAAA,CAAI,EAAQ,IAAI,CAAC,CAAA,CAAI,EAC9C,CACA,MAAM,CAAK,CAAE,CACT,OAAO,IAAI,EAAK,IAAI,CAAC,CAAA,CAAI,EAAO,IAAI,CAAC,CAAA,CAAI,EAC7C,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAA3B,AACJ,CACA,OAAO,MAAM,CAAC,CAAE,CAAC,CAAE,CACf,OAAO,IAAI,EAAK,EAAG,EAAG,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAA1C,CACJ,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,IAAI,EAAK,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAnC,CACJ,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,IAAI,EAAK,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAnC,CACJ,CACA,OAAO,MAAM,CAAC,CAAE,CAAC,CAAE,CACf,OAAO,EAAE,CAAA,GAAM,EAAE,CAAA,EAAK,EAAE,CAAA,GAAM,EAAE,CAAhC,AACJ,CACJ,CACA,EAAK,IAAA,CAAO,IAAI,EAAK,EAAG,EACxB,OAAM,EACF,YAAY,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CACb,AAAM,OAAN,GACA,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,IAGT,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,EACT,IAAI,CAAC,CAAA,CAAI,EAEjB,CACA,UAAW,CACP,MAAO,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA,CAAE,EAAE,EAAE,IAAI,CAAC,CAAA,CAAE,EAAE,EAAE,IAAI,CAAC,CAAA,CAAE,CAAC,CAAC,AAC9C,CACA,QAAS,CACL,OAAO,KAAK,IAAA,CAAK,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAnE,CACJ,CACA,WAAY,CACR,IAAM,EAAS,IAAI,CAAC,MAApB,GAIA,OAHA,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,EAClB,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,EAClB,IAAI,CAAC,CAAA,CAAI,IAAI,CAAC,CAAA,CAAI,EACX,IAAI,AACf,CACA,MAAO,CACH,IAAM,EAAS,IAAI,CAAC,MAApB,GACA,OAAO,IAAI,EAAK,IAAI,CAAC,CAAA,CAAI,EAAQ,IAAI,CAAC,CAAA,CAAI,EAAQ,IAAI,CAAC,CAAA,CAAI,EAC/D,CACA,MAAM,CAAK,CAAE,CACT,OAAO,IAAI,EAAK,IAAI,CAAC,CAAA,CAAI,EAAO,IAAI,CAAC,CAAA,CAAI,EAAO,IAAI,CAAC,CAAA,CAAI,EAC7D,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAvC,AACJ,CACA,OAAO,MAAM,CAAC,CAAE,CAAC,CAAE,CACf,OAAO,IAAI,EAAK,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAA,CAAI,EAAE,CAAlF,CACJ,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,IAAI,EAAK,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAA9C,CACJ,CACA,OAAO,IAAI,CAAC,CAAE,CAAC,CAAE,CACb,OAAO,IAAI,EAAK,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAAA,CAAG,EAAE,CAAA,CAAI,EAAE,CAA9C,CACJ,CACA,OAAO,MAAM,CAAC,CAAE,CAAC,CAAE,CACf,OAAO,EAAE,CAAA,GAAM,EAAE,CAAA,EAAK,EAAE,CAAA,GAAM,EAAE,CAAA,EAAK,EAAE,CAAA,GAAM,EAAE,CAA/C,AACJ,CACJ,CACA,EAAK,IAAA,CAAO,IAAI,EAAK,EAAG,EAAG,GAC3B,EAAK,EAAA,CAAK,IAAI,EAAK,EAAG,EAAG,GACzB,EAAK,IAAA,CAAO,IAAI,EAAK,EAAG,GAAI,GAC5B,EAAK,IAAA,CAAO,IAAI,EAAK,GAAI,EAAG,GAC5B,EAAK,KAAA,CAAQ,IAAI,EAAK,EAAG,EAAG,GAC5B,EAAK,OAAA,CAAU,IAAI,EAAK,EAAG,EAAG,IAC9B,EAAK,QAAA,CAAW,IAAI,EAAK,EAAG,EAAG,GItG/B,MAAM,EAAa,AAAkB,aAAlB,OAAO,QAA0B,OAAO,UAAA,EAAc,OAAO,UAAA,CAAW,IAAA,CAAK,QAChG,IAAA,EAAe,CACb,WAAA,CACF,ECCA,MAAM,EAAQ,IAAI,WAAW,ICEvB,EAAY,EAAE,CAEpB,IAAK,IAAI,EAAI,EAAG,EAAI,IAAK,EAAE,EACzB,EAAU,IAAA,CAAM,AAAA,CAAA,EAAI,GAAA,EAAO,QAAA,CAAS,IAAI,KAAA,CAAM,IHmBhD,IAAA,EAxBA,SAAY,CAAO,CAAE,CAAG,CAAE,CAAM,EAC9B,GAAI,AAAA,EAAO,UAAA,EAAc,CAAC,GAAO,CAAC,EAChC,OAAO,AAAA,EAAO,UADhB,GAIA,EAAU,GAAW,CAAC,EACtB,IAAM,EAAO,EAAQ,MAAA,EAAW,AAAA,CAAA,EAAQ,GAAA,EEL3B,WACb,8EAA8E;AAC9E,GAAI,CAAC,GAIC,CAHJ,4FAA4F;AAC5F,CAAA,EAAkB,AAAkB,aAAlB,OAAO,QAA0B,OAAO,eAAA,EAAmB,OAAO,eAAA,CAAgB,IAAA,CAAK,OAAzG,EAGE,MAAM,AAAI,MAAM,4GAIpB,OAAO,EAAgB,EACzB,CFPmD,GAAM,iEAAgE;AAKvH,GAHA,CAAI,CAAC,EAAE,CAAG,AAAU,GAAV,CAAI,CAAC,EAAE,CAAU,GAC3B,CAAI,CAAC,EAAE,CAAG,AAAU,GAAV,CAAI,CAAC,EAAE,CAAU,IAEvB,EAAK,CACP,EAAS,GAAU,EAEnB,IAAK,IAAI,EAAI,EAAG,EAAI,GAAI,EAAE,EACxB,CAAG,CAAC,EAAS,EAAE,CAAG,CAAI,CAAC,EAAE,CAG3B,OAAO,CACT,CAEA,OAAO,AGbF,SAAyB,CAAG,CAAE,EAAS,CAAC,EAC7C,uEAAuE;AACvE,oFAAoF;AACpF,OAAO,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,IAAM,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,IAAM,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,IAAM,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,EAAE,CAAC,CAAG,IAAM,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,CAAG,CAAS,CAAC,CAAG,CAAC,EAAS,GAAG,CAAC,AACpf,EHSyB,EACzB,EDjBA,SAAS,EAAiB,CAAI,EAC1B,IAAI,EAAM,EAAK,qBAAf,GACA,MAAO,CACH,IAAK,EAAI,GAAA,CAAM,OAAO,WAAtB,CACA,MAAO,EAAI,KAAA,CAAQ,OAAO,WAA1B,CACA,OAAQ,EAAI,MAAA,CAAS,OAAO,WAA5B,CACA,KAAM,EAAI,IAAA,CAAO,OAAO,WAAxB,CACA,QAAS,EAAI,IAAA,CAAO,OAAO,WAAA,CAAe,AAAA,CAAA,EAAI,KAAA,CAAQ,EAAI,IAAG,AAAH,EAAQ,EAClE,QAAS,EAAI,GAAA,CAAM,OAAO,WAAA,CAAe,AAAA,CAAA,EAAI,MAAA,CAAS,EAAI,GAAE,AAAF,EAAO,EACjE,MAAO,EAAI,KAAA,CAAQ,EAAI,IAAvB,CACA,OAAQ,EAAI,GAAA,CAAM,EAAI,MAAtB,AACJ,CACJ,CHjBA,MAAM,EAAY,SAAS,cAAA,CAAe,aACpC,EAAO,SAAS,cAAA,CAAe,QAC/B,EAAW,SAAS,cAAA,CAAe,aACnC,EAAQ,SAAS,cAAA,CAAe,SAChC,EAAQ,SAAS,cAAA,CAAe,WAQhC,EAAc,CAChB,eAAiB,IAAI,EAAK,IAAK,GAAI,KAAM,SAAzC,GACA,UAAW,IACX,WAAY,IACZ,eAAgB,CACpB,EACM,EAAmB,AEbzB,SAAuC,CAAY,CAAE,CAAO,EACxD,IAAM,EAAO,EAAa,IAA1B,AACA,CAAA,EAAK,IAAA,CAAO,EAAa,IAAzB,CACA,IAAM,EAAc,EAAa,QAAjC,CACM,EAAe,CACjB,EAAG,EAAQ,cAAA,CAAiB,AAAA,EAAK,GAAA,CAAI,EAAQ,cAAA,CAAgB,AAAA,EAAK,IAAlE,EACA,EAAG,EAAQ,cAAA,CAAiB,AAAA,EAAK,GAAA,CAAI,EAAQ,cAAA,CAAgB,AAAA,EAAK,IAAlE,CACJ,CACA,CAAA,EAAa,QAAA,CAAS,KAAA,CAAM,MAAA,CAAS,CAAC,YAAY,EAAE,EAAa,CAAA,CAAE,GAAG,EAAE,EAAa,CAAA,CAAE,aAAa,CAAC,CACrG,IAAM,EAAiB,IAAI,EAAK,CAAC,EAAQ,cAAA,CAAe,CAAA,CAAG,CAAC,EAAQ,cAAA,CAAe,CAAA,CAAG,EAAQ,cAAA,CAAe,CAA7G,CACA,CAAA,EAAK,cAAA,CAAiB,AAAC,IACnB,IAAM,EAAQ,KAAK,KAAA,CAAM,KAAK,GAAA,CAAI,EAAS,CAAA,EAAI,EAAQ,SAAvD,EACM,EAAS,AAAe,IAAf,EAAS,CAAA,CAAU,EAAI,EAAS,CAAA,CAAI,EAAI,EAAQ,CAAC,EAC1D,EAAQ,KAAK,KAAA,CAAM,KAAK,GAAA,CAAI,EAAS,CAAA,EAAI,EAAQ,SAAvD,EACM,EAAS,AAAe,IAAf,EAAS,CAAA,CAAU,EAAI,EAAS,CAAA,CAAI,EAAI,CAAC,EAAQ,EAE1D,EAAS,AAvBvB,SAAyB,CAAG,CAAE,CAAK,CAAE,CAAI,EACrC,IAAM,EAAK,KAAK,GAAA,CAAI,GACd,EAAK,KAAK,GAAA,CAAI,GACd,EAAK,KAAK,GAAA,CAAI,GACd,EAAK,KAAK,GAAA,CAAI,GACpB,OAAO,IAAI,EAAK,EAAI,CAAA,CAAI,EAAK,EAAI,CAAA,CAAI,EAAI,EAAI,CAAA,CAAI,EAAK,EAAK,EAAI,CAAA,CAAI,EAAK,EAAI,CAAA,CAAI,EAAK,EAAI,CAAC,EAAI,CAAA,CAAI,EAAK,EAAK,EAAI,CAAA,CAAI,EAAK,EAAI,CAAA,CAAI,EAAK,EAC1I,EAiBuC,AAAA,EAAK,QAAA,CAAU,EAAQ,GAChD,EAAK,KAAK,GAAA,CAAI,AAAA,EAAK,GAAA,CAAI,EAAQ,EAAQ,cAAA,EAAiB,EAAQ,UAAtE,CACA,CAAA,EAAa,QAAA,CAAS,KAAA,CAAM,SAAA,CAAY,CAAC,QAAQ,EAAE,EAAO,aAAa,EAAE,EAAO,IAAI,CAAC,CACrF,EAAa,KAAA,CAAM,KAAA,CAAM,OAAA,CAAU,CAAC,EAAE,AAAK,IAAL,EAAS,CAAC,CAAC,CACjD,IAAM,EAAO,KAAK,GAAA,CAAI,AAAA,EAAK,GAAA,CAAI,EAAQ,GAAiB,EAAQ,UAAhE,CACA,CAAA,EAAa,KAAA,CAAM,KAAA,CAAM,OAAA,CAAU,CAAC,EAAE,AAAO,IAAP,EAAW,CAAC,CAAC,AACvD,EACA,IAAM,EAAmB,AC/B7B,SAAwB,CAAW,EAC/B,IAAM,EAAY,CAAC,EAAE,EAAY,SAAA,CAAU,CAAC,EAAE,AAAA,IAAO,CAAC,CACtD,IAAI,EAAQ,SAAS,aAAA,CAAc,SAInC,OAHA,EAAM,IAAA,CAAO,WACb,EAAM,SAAA,CAAY,CAAC,EAAE,EAAY,SAAA,CAAY,CAAC,CAAC,EAAE,EAAU,CAAC,CAAG,GAAG,CAAC,EAAE,EAAY,EAAA,CAAK,CAAC,CAAC,EAAE,EAAY,EAAA,CAAG,CAAC,CAAG,GAAG,GAAG,EAAE,EAAY,OAAA,CAAQ,EAAE,CAAC,CAC5I,SAAS,oBAAA,CAAqB,OAAO,CAAC,EAAE,CAAC,WAAA,CAAY,GAC9C,CACX,EDwB4C,CACpC,UAAW,SACX,QAAS,uCACb,GAiBA,OAhBA,EAAY,SAAA,CAAU,GAAA,CAAI,GAC1B,EAAK,OAAA,CAAU,AAAC,IACZ,EAAY,KAAA,CAAM,SAAA,CAAY,CAAC,MAAM,EAAE,EAAK,CAAC,CAAC,AAClD,EACA,EAAK,oBAAA,CAAuB,AAAC,IACrB,EACK,EAAa,QAAA,CAAS,SAAA,CAAU,QAAA,CAAS,IAC1C,EAAa,QAAA,CAAS,SAAA,CAAU,GAAA,CAAI,GAIpC,EAAa,QAAA,CAAS,SAAA,CAAU,QAAA,CAAS,IACzC,EAAa,QAAA,CAAS,SAAA,CAAU,MAAA,CAAO,EAGnD,EACO,CACX,EF5CqB,CACjB,KAAM,EACN,SAAU,EACV,SAAU,EACV,MAAO,EACP,MAAO,CACX,EAOqE,GACrE,IAAI,EAAa,CAAA,EACjB,SAAS,IACL,EAAiB,OAAA,CAAQ,GACzB,EAAiB,oBAAA,CAAqB,CAAA,GACtC,EAAa,CAAA,CACjB,CACA,SAAS,IACD,IACA,EAAiB,OAAA,CAAQ,GACzB,EAAiB,oBAAA,CAAqB,CAAA,GACtC,EAAiB,cAAA,CAAe,AAAA,EAAK,IAArC,EACA,EAAa,CAAA,EAErB,CACA,EAAU,gBAAA,CAAiB,YAAa,AAAC,IACrC,GACJ,GACA,EAAU,gBAAA,CAAiB,UAAW,AAAC,IACnC,GACJ,GACA,EAAU,gBAAA,CAAiB,eAAgB,AAAC,IACxC,GACJ,GACA,EAAU,gBAAA,CAAiB,YAAa,AAAC,IACrC,GAAI,EAAY,CACZ,IAAM,EAAS,EAAG,MAAlB,CACM,EAAa,AAAA,EAAiB,GAC9B,EAAa,IAAI,EAAK,EAAG,OAAA,CAAU,EAAW,OAAA,CAAS,EAAG,OAAA,CAAU,EAAW,OAArF,EACA,EAAiB,cAAA,CAAe,EACpC,CACJ,GACA,EAAU,gBAAA,CAAiB,aAAc,AAAC,IACtC,GACJ,EAAG,CAAA,GACH,EAAU,gBAAA,CAAiB,cAAe,AAAC,IACvC,GACJ,EAAG,CAAA,GACH,EAAU,gBAAA,CAAiB,WAAY,AAAC,IACpC,GACJ,EAAG,CAAA,GACH,EAAU,gBAAA,CAAiB,YAAa,AAAC,IAErC,GADA,EAAG,cAAH,GACI,EAAY,CACZ,IAAM,EAAS,EAAG,MAAlB,CACM,EAAa,AAAA,EAAiB,GAC9B,EAAa,IAAI,EAAK,EAAG,OAAO,CAAC,EAAE,CAAC,OAAA,CAAU,EAAW,OAAA,CAAS,EAAG,OAAO,CAAC,EAAE,CAAC,OAAA,CAAU,EAAW,OAA3G,EACA,EAAiB,cAAA,CAAe,EACpC,CACJ,GACA,EAAiB,cAAA,CAAe,AAAA,EAAK,IAArC,EACA,MAAM,EAAa,SAAS,cAAA,CAAe,eACrC,EAAU,CACZ,SAAS,cAAA,CAAe,YACxB,SAAS,cAAA,CAAe,YACxB,SAAS,cAAA,CAAe,YACxB,SAAS,cAAA,CAAe,YAC3B,CACD,IAAI,EAAe,EA2CnB,MAAM,EAAgB,IAnBtB,MACI,YAAY,CAAM,CAAE,CAAQ,CAAE,CAC1B,IAAI,CAAC,MAAA,CAAS,EACd,IAAI,CAAC,QAAA,CAAW,AAAW,IAAX,EAChB,IAAI,CAAC,EAAA,CAAK,AAAA,EAAK,IAAf,CACA,IAAI,CAAC,EAAA,CAAK,AAAA,EAAK,IAAf,CACA,IAAI,CAAC,OAAA,CAAU,EACf,IAAI,CAAC,SAAA,CAAY,EACrB,CAEA,cAAc,CAAE,CAAE,CAAE,CAAE,CAClB,IAAI,CAAC,EAAA,CAAK,EACV,IAAI,CAAC,EAAA,CAAK,EACV,IAAI,CAAC,SAAA,CAAY,YAAY,GAA7B,GACA,IAAI,CAAC,OAAA,CAAU,IAAI,CAAC,SAAA,CAAY,IAAI,CAAC,QAArC,CACA,sBAAsB,EAC1B,CACJ,EAE4C,EAAkB,GAC9D,SAAS,EAA0B,CAAS,EACxC,GAAI,EAAc,OAAA,CAAU,GAAa,AAA2B,IAA3B,EAAc,QAAA,CAEnD,OAEJ,IAAM,EAAI,AAAC,CAAA,EAAY,EAAc,SAAQ,AAAR,EAAa,EAAc,QAAhE,EACA,AAzCJ,SAAyB,CAAM,CAAE,CAAC,CAAE,CAAE,CAAE,CAAE,EACtC,GAAI,AAAA,EAAK,KAAA,CAAM,EAAI,GACf,OAEJ,IAAM,EAAS,AAAA,EAAK,GAAA,CAAI,EAAI,GAC5B,QAAQ,GAAA,CAAI,CAAC,EAAE,EAAG,GAAG,EAAE,EAAG,GAAG,EAAE,EAAO,CAAC,EACvC,IAAM,GAA+B,EAAO,MAA5C,GAbO,CACH,IAAK,IACL,IAAK,EACL,IAAK,GACL,IAAK,CACT,GASM,EAAY,EAAO,IAAzB,GACM,EAAkB,AUhG5B,SAAkC,CAAC,CAAE,CAAM,EACvC,IAAM,EAAU,EAAI,EACd,EAAQ,EAAU,EAClB,EAAY,EAAI,EAAQ,EAAI,EAAU,EAAI,EAC1C,EAAY,GAAK,EAAQ,EAAI,EAC7B,EAAO,EAAO,GAAA,CAAM,EAAW,EAAO,GAAA,CAAM,EAAW,EACvD,EAAO,EAAO,GAAA,CAAM,EAAW,EAAO,GAAA,CAAM,EAAW,EAC7D,OAAO,IAAI,EAAK,EAAM,EAC1B,EVwFqD,EAAG,GAC9C,EAAa,AAAA,EAAK,GAAA,CAAI,EAAI,EAAO,KAAA,CAAM,EAAgB,CAA7D,EACA,CAAA,EAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAO,CAAC,EAAE,EAAW,CAAA,CAAE,EAAE,CAAC,CAC5C,EAAO,IAAA,CAAK,KAAA,CAAM,GAAA,CAAM,CAAC,EAAE,EAAW,CAAA,CAAE,EAAE,CAAC,CAC3C,IAAM,EAA0B,AU3FpC,CAAA,SAAiD,CAAC,CAAE,CAAM,EACtD,IAAM,EAAU,EAAI,EACd,EAAY,EAAI,EAAU,GAAK,EAAI,EACnC,EAAY,GAAK,EAAU,EAAI,EAC/B,EAAO,EAAO,GAAA,CAAM,EAAW,EAAO,GAAA,CAAM,EAAW,EAAI,EAC3D,EAAO,EAAO,GAAA,CAAM,EAAW,EAAO,GAAA,CAAM,EAAW,EAAI,EACjE,OAAO,IAAI,EAAK,EAAM,EAC1B,CAAA,EVoF4E,EAAG,GAAc,KAAA,CAAM,KAC/F,EAAO,cAAA,CAAe,EAAU,KAAA,CAAM,EAAwB,CAA9D,EACJ,EA2BoB,EAAc,MAAA,CAAQ,EAAG,EAAc,EAAA,CAAI,EAAc,EAAzE,EACA,sBAAsB,EAC1B,CACA,EAAW,gBAAA,CAAiB,QAAS,AAAC,IAClC,EAAgB,AAAA,CAAA,EAAe,CAAA,EAAK,EAAQ,MAA5C,CACA,IAAM,EAAgB,AAAA,EAAiB,EAAiB,IAAxD,EACM,EAAiB,AAAA,EAAiB,CAAO,CAAC,EAAa,EAC7D,EAAc,aAAA,CAAc,IAAI,EAAK,EAAc,OAAA,CAAS,EAAc,OAAA,EAAU,IAAI,EAAK,EAAe,OAAA,CAAS,EAAe,OAApI,EACJ,E,4D","sources":["<anon>","js/main.js","js/vec.js","js/cardTool.js","js/domUtils.js","node_modules/uuid/dist/esm-browser/v4.js","node_modules/uuid/dist/esm-browser/native.js","node_modules/uuid/dist/esm-browser/rng.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/regex.js","js/math.js"],"sourcesContent":["class $40fc1d077ade7fc8$export$ac4bca90992eed1 {\n    constructor(x, y){\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n        } else {\n            this.x = x;\n            this.y = y;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(this.x / length, this.y / length);\n    }\n    scale(scale) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(this.x * scale, this.y * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y;\n    }\n    static cross(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(a.x + b.x, a.y + b.y);\n    }\n    static sub(a, b) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(a.x - b.x, a.y - b.y);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y;\n    }\n}\n$40fc1d077ade7fc8$export$ac4bca90992eed1.Zero = new $40fc1d077ade7fc8$export$ac4bca90992eed1(0, 0);\nclass $40fc1d077ade7fc8$export$838423f3adec30fa {\n    constructor(x, y, z){\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n            this.z = 0;\n        } else {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        this.z = this.z / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(this.x / length, this.y / length, this.z / length);\n    }\n    scale(scale) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(this.x * scale, this.y * scale, this.z * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    }\n    static cross(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.x + b.x, a.y + b.y, a.z + b.z);\n    }\n    static sub(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.x - b.x, a.y - b.y, a.z - b.z);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y && a.z === b.z;\n    }\n}\n$40fc1d077ade7fc8$export$838423f3adec30fa.Zero = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Up = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 1, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Down = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, -1, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Left = new $40fc1d077ade7fc8$export$838423f3adec30fa(-1, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Right = new $40fc1d077ade7fc8$export$838423f3adec30fa(1, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Forward = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, -1);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Backward = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, 1);\n\n\n\nconst $7ffc1f94643dc7e4$var$randomUUID = typeof crypto !== \"undefined\" && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar $7ffc1f94643dc7e4$export$2e2bcd8739ae039 = {\n    randomUUID: $7ffc1f94643dc7e4$var$randomUUID\n};\n\n\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet $568f4ee4022ba00e$var$getRandomValues;\nconst $568f4ee4022ba00e$var$rnds8 = new Uint8Array(16);\nfunction $568f4ee4022ba00e$export$2e2bcd8739ae039() {\n    // lazy load so that environments that need to polyfill have a chance to do so\n    if (!$568f4ee4022ba00e$var$getRandomValues) {\n        // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n        $568f4ee4022ba00e$var$getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n        if (!$568f4ee4022ba00e$var$getRandomValues) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n    }\n    return $568f4ee4022ba00e$var$getRandomValues($568f4ee4022ba00e$var$rnds8);\n}\n\n\nvar $32c496bfb6c27b56$export$2e2bcd8739ae039 = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\n\nfunction $46d323206dcbf256$var$validate(uuid) {\n    return typeof uuid === \"string\" && (0, $32c496bfb6c27b56$export$2e2bcd8739ae039).test(uuid);\n}\nvar $46d323206dcbf256$export$2e2bcd8739ae039 = $46d323206dcbf256$var$validate;\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */ const $1d0137947e8554ce$var$byteToHex = [];\nfor(let i = 0; i < 256; ++i)$1d0137947e8554ce$var$byteToHex.push((i + 0x100).toString(16).slice(1));\nfunction $1d0137947e8554ce$export$8fb373d660548968(arr, offset = 0) {\n    // Note: Be careful editing this code!  It's been tuned for performance\n    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n    return $1d0137947e8554ce$var$byteToHex[arr[offset + 0]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 1]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 2]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 3]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 4]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 5]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 6]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 7]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 8]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 9]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 10]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 11]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 12]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 13]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 14]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 15]];\n}\nfunction $1d0137947e8554ce$var$stringify(arr, offset = 0) {\n    const uuid = $1d0137947e8554ce$export$8fb373d660548968(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n    // of the following:\n    // - One or more input array values don't map to a hex octet (leading to\n    // \"undefined\" in the uuid)\n    // - Invalid input values for the RFC `version` or `variant` fields\n    if (!(0, $46d323206dcbf256$export$2e2bcd8739ae039)(uuid)) throw TypeError(\"Stringified UUID is invalid\");\n    return uuid;\n}\nvar $1d0137947e8554ce$export$2e2bcd8739ae039 = $1d0137947e8554ce$var$stringify;\n\n\nfunction $3fa3ae484854b431$var$v4(options, buf, offset) {\n    if ((0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID && !buf && !options) return (0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID();\n    options = options || {};\n    const rnds = options.random || (options.rng || (0, $568f4ee4022ba00e$export$2e2bcd8739ae039))(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] & 0x0f | 0x40;\n    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n    if (buf) {\n        offset = offset || 0;\n        for(let i = 0; i < 16; ++i)buf[offset + i] = rnds[i];\n        return buf;\n    }\n    return (0, $1d0137947e8554ce$export$8fb373d660548968)(rnds);\n}\nvar $3fa3ae484854b431$export$2e2bcd8739ae039 = $3fa3ae484854b431$var$v4;\n\n\nfunction $d8d1267846f126ff$export$f12349273d662298(customStyle) {\n    const className = `${customStyle.className}-${(0, $3fa3ae484854b431$export$2e2bcd8739ae039)()}`;\n    var style = document.createElement(\"style\");\n    style.type = \"text/css\";\n    style.innerHTML = `${customStyle.className ? `.${className}` : \"\"} ${customStyle.id ? `#${customStyle.id}` : \"\"} { ${customStyle.content} }`;\n    document.getElementsByTagName(\"head\")[0].appendChild(style);\n    return className;\n}\nfunction $d8d1267846f126ff$export$abe5643cba19555f(elem) {\n    let box = elem.getBoundingClientRect();\n    return {\n        top: box.top + window.pageYOffset,\n        right: box.right + window.pageXOffset,\n        bottom: box.bottom + window.pageYOffset,\n        left: box.left + window.pageXOffset,\n        centerX: box.left + window.pageXOffset + (box.right - box.left) / 2,\n        centerY: box.top + window.pageYOffset + (box.bottom - box.top) / 2,\n        width: box.right - box.left,\n        height: box.top - box.bottom\n    };\n}\n\n\nfunction $d17c23253d859e11$var$rotatePitchRoll(vec, pitch, roll) {\n    const cp = Math.cos(pitch);\n    const sp = Math.sin(pitch);\n    const cr = Math.cos(roll);\n    const sr = Math.sin(roll);\n    return new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(vec.x * cp + vec.z * sp, vec.x * sp * sr + vec.y * cr - vec.z * sr * cp, -vec.x * sp * cr + vec.y * sr + vec.z * cp * cr);\n}\nfunction $d17c23253d859e11$export$5f4c79da71562cde(cardElements, options) {\n    const card = cardElements.root;\n    card.root = cardElements.root;\n    const zoomElement = cardElements.zoomable;\n    const shadowOffset = {\n        x: options.shadowDistance * (0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(options.lightDirection, (0, $40fc1d077ade7fc8$export$838423f3adec30fa).Left),\n        y: options.shadowDistance * (0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(options.lightDirection, (0, $40fc1d077ade7fc8$export$838423f3adec30fa).Down)\n    };\n    cardElements.cardItem.style.filter = `drop-shadow(${shadowOffset.x}px ${shadowOffset.y}px 5px black)`;\n    const shadeDirection = new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(-options.lightDirection.x, -options.lightDirection.y, options.lightDirection.z);\n    card.setOrientation = (position)=>{\n        const atanX = Math.atan2(Math.abs(position.x), options.simHeight);\n        const angleX = position.x === 0 ? 0 : position.x > 0 ? atanX : -atanX;\n        const atanY = Math.atan2(Math.abs(position.y), options.simHeight);\n        const angleY = position.y === 0 ? 0 : position.y > 0 ? -atanY : atanY;\n        // Rotating a vector up toward the viewer to the inclination of the card.\n        const normal = $d17c23253d859e11$var$rotatePitchRoll((0, $40fc1d077ade7fc8$export$838423f3adec30fa).Backward, angleX, angleY);\n        const li = Math.pow((0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(normal, options.lightDirection), options.lightPower);\n        cardElements.cardItem.style.transform = `rotateY(${angleX}rad) rotateX(${angleY}rad)`;\n        cardElements.shine.style.opacity = `${li * 100}%`;\n        const unLi = Math.pow((0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(normal, shadeDirection), options.lightPower);\n        cardElements.shade.style.opacity = `${unLi * 100}%`;\n    };\n    const smoothTransition = (0, $d8d1267846f126ff$export$f12349273d662298)({\n        className: \"zoomin\",\n        content: \"transition: transform 0.25s ease-out;\"\n    });\n    zoomElement.classList.add(smoothTransition);\n    card.setZoom = (zoom)=>{\n        zoomElement.style.transform = `scale(${zoom})`;\n    };\n    card.setSmoothOrientation = (enabled)=>{\n        if (enabled) {\n            if (!cardElements.cardItem.classList.contains(smoothTransition)) cardElements.cardItem.classList.add(smoothTransition);\n        } else if (cardElements.cardItem.classList.contains(smoothTransition)) cardElements.cardItem.classList.remove(smoothTransition);\n    };\n    return card;\n}\n\n\n\n\nfunction $cb1b9efbe9b1b9d8$export$94c2a1b8e24fe1d1(t, params) {\n    const tSquare = t * t;\n    const tCube = tSquare * t;\n    const p1Factor = 3 * tCube - 6 * tSquare + 3 * t;\n    const p2Factor = -3 * tCube + 3 * tSquare;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + tCube;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + tCube;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\nfunction $cb1b9efbe9b1b9d8$export$944dabb2371ca403(t, params) {\n    const tSquare = t * t;\n    const p1Factor = 9 * tSquare - 12 * t + 3;\n    const p2Factor = -9 * tSquare + 6 * t;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 3 * tSquare;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 3 * tSquare;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\nfunction $cb1b9efbe9b1b9d8$export$ad824134262aeab6(t, params) {\n    const p1Factor = 18 * t - 12;\n    const p2Factor = -19 * t + 6;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 6 * t;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 6 * t;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\n\n\nconst $77ac944da51b7354$var$container = document.getElementById(\"container\");\nconst $77ac944da51b7354$var$card = document.getElementById(\"card\");\nconst $77ac944da51b7354$var$cardItem = document.getElementById(\"card-item\");\nconst $77ac944da51b7354$var$shine = document.getElementById(\"shine\");\nconst $77ac944da51b7354$var$shade = document.getElementById(\"unshine\");\nconst $77ac944da51b7354$var$cardElements = {\n    root: $77ac944da51b7354$var$container,\n    zoomable: $77ac944da51b7354$var$card,\n    cardItem: $77ac944da51b7354$var$cardItem,\n    shine: $77ac944da51b7354$var$shine,\n    shade: $77ac944da51b7354$var$shade\n};\nconst $77ac944da51b7354$var$cardOptions = {\n    lightDirection: new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(.15, -1, .25).normalize(),\n    simHeight: 190,\n    lightPower: 1.5,\n    shadowDistance: 5\n};\nconst $77ac944da51b7354$var$presentationCard = (0, $d17c23253d859e11$export$5f4c79da71562cde)($77ac944da51b7354$var$cardElements, $77ac944da51b7354$var$cardOptions);\nlet $77ac944da51b7354$var$isDragging = false;\nfunction $77ac944da51b7354$var$startMove() {\n    $77ac944da51b7354$var$presentationCard.setZoom(2);\n    $77ac944da51b7354$var$presentationCard.setSmoothOrientation(false);\n    $77ac944da51b7354$var$isDragging = true;\n}\nfunction $77ac944da51b7354$var$endMove() {\n    if ($77ac944da51b7354$var$isDragging) {\n        $77ac944da51b7354$var$presentationCard.setZoom(1);\n        $77ac944da51b7354$var$presentationCard.setSmoothOrientation(true);\n        $77ac944da51b7354$var$presentationCard.setOrientation((0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero);\n        $77ac944da51b7354$var$isDragging = false;\n    }\n}\n$77ac944da51b7354$var$container.addEventListener(\"mousedown\", (ev)=>{\n    $77ac944da51b7354$var$startMove();\n});\n$77ac944da51b7354$var$container.addEventListener(\"mouseup\", (ev)=>{\n    $77ac944da51b7354$var$endMove();\n});\n$77ac944da51b7354$var$container.addEventListener(\"pointerleave\", (ev)=>{\n    $77ac944da51b7354$var$endMove();\n});\n$77ac944da51b7354$var$container.addEventListener(\"mousemove\", (ev)=>{\n    if ($77ac944da51b7354$var$isDragging) {\n        const target = ev.target;\n        const targetRect = (0, $d8d1267846f126ff$export$abe5643cba19555f)(target);\n        const evPosition = new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(ev.clientX - targetRect.centerX, ev.clientY - targetRect.centerY);\n        $77ac944da51b7354$var$presentationCard.setOrientation(evPosition);\n    }\n});\n$77ac944da51b7354$var$container.addEventListener(\"touchstart\", (ev)=>{\n    $77ac944da51b7354$var$startMove();\n}, false);\n$77ac944da51b7354$var$container.addEventListener(\"touchcancel\", (ev)=>{\n    $77ac944da51b7354$var$endMove();\n}, false);\n$77ac944da51b7354$var$container.addEventListener(\"touchend\", (ev)=>{\n    $77ac944da51b7354$var$endMove();\n}, false);\n$77ac944da51b7354$var$container.addEventListener(\"touchmove\", (ev)=>{\n    ev.preventDefault();\n    if ($77ac944da51b7354$var$isDragging) {\n        const target = ev.target;\n        const targetRect = (0, $d8d1267846f126ff$export$abe5643cba19555f)(target);\n        const evPosition = new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(ev.touches[0].clientX - targetRect.centerX, ev.touches[0].clientY - targetRect.centerY);\n        $77ac944da51b7354$var$presentationCard.setOrientation(evPosition);\n    }\n});\n$77ac944da51b7354$var$presentationCard.setOrientation((0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero);\nconst $77ac944da51b7354$var$testButton = document.getElementById(\"test-button\");\nconst $77ac944da51b7354$var$targets = [\n    document.getElementById(\"target-1\"),\n    document.getElementById(\"target-2\"),\n    document.getElementById(\"target-3\"),\n    document.getElementById(\"target-4\")\n];\nlet $77ac944da51b7354$var$currentIndex = 0;\nfunction $77ac944da51b7354$var$getBezierParams(distance) {\n    return {\n        p1x: .32,\n        p1y: .0,\n        p2x: .5,\n        p2y: 1\n    };\n}\nfunction $77ac944da51b7354$var$lerpCardElement(target, t, p0, p1) {\n    if ((0, $40fc1d077ade7fc8$export$ac4bca90992eed1).equal(p0, p1)) return;\n    const travel = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).sub(p1, p0);\n    console.log(`${p0} - ${p1} = ${travel}`);\n    const bezierParams = $77ac944da51b7354$var$getBezierParams(travel.length());\n    const direction = travel.norm();\n    const transformedTime = (0, $cb1b9efbe9b1b9d8$export$94c2a1b8e24fe1d1)(t, bezierParams);\n    const currentPos = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).add(p0, travel.scale(transformedTime.y));\n    target.root.style.left = `${currentPos.x}px`;\n    target.root.style.top = `${currentPos.y}px`;\n    const transformedAcceleration = (0, $cb1b9efbe9b1b9d8$export$944dabb2371ca403)(t, bezierParams).scale(100);\n    target.setOrientation(direction.scale(transformedAcceleration.y));\n}\nclass $77ac944da51b7354$var$CardLerpAnimation {\n    constructor(target, duration){\n        this.target = target;\n        this.duration = duration * 1000;\n        this.p0 = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n        this.p1 = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n        this.endTime = 0;\n        this.startTime = -1;\n    }\n    playAnimation(p0, p1) {\n        this.p0 = p0;\n        this.p1 = p1;\n        this.startTime = performance.now();\n        this.endTime = this.startTime + this.duration;\n        requestAnimationFrame($77ac944da51b7354$var$lerpCardAnimationCallback);\n    }\n}\nconst $77ac944da51b7354$var$testAnimation = new $77ac944da51b7354$var$CardLerpAnimation($77ac944da51b7354$var$presentationCard, 2);\nfunction $77ac944da51b7354$var$lerpCardAnimationCallback(timeStamp) {\n    if ($77ac944da51b7354$var$testAnimation.endTime < timeStamp || $77ac944da51b7354$var$testAnimation.duration === 0) // TODO FINISH Animation\n    return;\n    const t = (timeStamp - $77ac944da51b7354$var$testAnimation.startTime) / $77ac944da51b7354$var$testAnimation.duration;\n    $77ac944da51b7354$var$lerpCardElement($77ac944da51b7354$var$testAnimation.target, t, $77ac944da51b7354$var$testAnimation.p0, $77ac944da51b7354$var$testAnimation.p1);\n    requestAnimationFrame($77ac944da51b7354$var$lerpCardAnimationCallback);\n}\n$77ac944da51b7354$var$testButton.addEventListener(\"click\", (_ev)=>{\n    $77ac944da51b7354$var$currentIndex = ($77ac944da51b7354$var$currentIndex + 1) % $77ac944da51b7354$var$targets.length;\n    const startPosition = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$presentationCard.root);\n    const targetPosition = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$targets[$77ac944da51b7354$var$currentIndex]);\n    $77ac944da51b7354$var$testAnimation.playAnimation(new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(startPosition.centerX, startPosition.centerY), new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(targetPosition.centerX, targetPosition.centerY));\n});\n\n\n//# sourceMappingURL=index.56b4feea.js.map\n","import { Vec2, Vec3 } from './vec';\nimport { addCardPresentationCapability } from './cardTool';\nimport { getElementBounds } from './domUtils';\nimport { cubicInterpolationBezier, cubicInterpolationBezierFirstDerivative } from './math';\nconst container = document.getElementById('container');\nconst card = document.getElementById('card');\nconst cardItem = document.getElementById('card-item');\nconst shine = document.getElementById('shine');\nconst shade = document.getElementById('unshine');\nconst cardElements = {\n    root: container,\n    zoomable: card,\n    cardItem: cardItem,\n    shine: shine,\n    shade: shade,\n};\nconst cardOptions = {\n    lightDirection: (new Vec3(.15, -1, .25)).normalize(),\n    simHeight: 190,\n    lightPower: 1.5,\n    shadowDistance: 5\n};\nconst presentationCard = addCardPresentationCapability(cardElements, cardOptions);\nlet isDragging = false;\nfunction startMove() {\n    presentationCard.setZoom(2);\n    presentationCard.setSmoothOrientation(false);\n    isDragging = true;\n}\nfunction endMove() {\n    if (isDragging) {\n        presentationCard.setZoom(1);\n        presentationCard.setSmoothOrientation(true);\n        presentationCard.setOrientation(Vec2.Zero);\n        isDragging = false;\n    }\n}\ncontainer.addEventListener('mousedown', (ev) => {\n    startMove();\n});\ncontainer.addEventListener('mouseup', (ev) => {\n    endMove();\n});\ncontainer.addEventListener('pointerleave', (ev) => {\n    endMove();\n});\ncontainer.addEventListener('mousemove', (ev) => {\n    if (isDragging) {\n        const target = ev.target;\n        const targetRect = getElementBounds(target);\n        const evPosition = new Vec2(ev.clientX - targetRect.centerX, ev.clientY - targetRect.centerY);\n        presentationCard.setOrientation(evPosition);\n    }\n});\ncontainer.addEventListener(\"touchstart\", (ev) => {\n    startMove();\n}, false);\ncontainer.addEventListener(\"touchcancel\", (ev) => {\n    endMove();\n}, false);\ncontainer.addEventListener(\"touchend\", (ev) => {\n    endMove();\n}, false);\ncontainer.addEventListener('touchmove', (ev) => {\n    ev.preventDefault();\n    if (isDragging) {\n        const target = ev.target;\n        const targetRect = getElementBounds(target);\n        const evPosition = new Vec2(ev.touches[0].clientX - targetRect.centerX, ev.touches[0].clientY - targetRect.centerY);\n        presentationCard.setOrientation(evPosition);\n    }\n});\npresentationCard.setOrientation(Vec2.Zero);\nconst testButton = document.getElementById('test-button');\nconst targets = [\n    document.getElementById('target-1'),\n    document.getElementById('target-2'),\n    document.getElementById('target-3'),\n    document.getElementById('target-4'),\n];\nlet currentIndex = 0;\nfunction getBezierParams(distance) {\n    return {\n        p1x: .32,\n        p1y: .0,\n        p2x: .5,\n        p2y: 1\n    };\n}\nfunction lerpCardElement(target, t, p0, p1) {\n    if (Vec2.equal(p0, p1)) {\n        return;\n    }\n    const travel = Vec2.sub(p1, p0);\n    console.log(`${p0} - ${p1} = ${travel}`);\n    const bezierParams = getBezierParams(travel.length());\n    const direction = travel.norm();\n    const transformedTime = cubicInterpolationBezier(t, bezierParams);\n    const currentPos = Vec2.add(p0, travel.scale(transformedTime.y));\n    target.root.style.left = `${currentPos.x}px`;\n    target.root.style.top = `${currentPos.y}px`;\n    const transformedAcceleration = cubicInterpolationBezierFirstDerivative(t, bezierParams).scale(100);\n    target.setOrientation(direction.scale(transformedAcceleration.y));\n}\nclass CardLerpAnimation {\n    constructor(target, duration) {\n        this.target = target;\n        this.duration = duration * 1000;\n        this.p0 = Vec2.Zero;\n        this.p1 = Vec2.Zero;\n        this.endTime = 0;\n        this.startTime = -1;\n    }\n    ;\n    playAnimation(p0, p1) {\n        this.p0 = p0;\n        this.p1 = p1;\n        this.startTime = performance.now();\n        this.endTime = this.startTime + this.duration;\n        requestAnimationFrame(lerpCardAnimationCallback);\n    }\n}\n;\nconst testAnimation = new CardLerpAnimation(presentationCard, 2);\nfunction lerpCardAnimationCallback(timeStamp) {\n    if (testAnimation.endTime < timeStamp || testAnimation.duration === 0) {\n        // TODO FINISH Animation\n        return;\n    }\n    const t = (timeStamp - testAnimation.startTime) / testAnimation.duration;\n    lerpCardElement(testAnimation.target, t, testAnimation.p0, testAnimation.p1);\n    requestAnimationFrame(lerpCardAnimationCallback);\n}\ntestButton.addEventListener('click', (_ev) => {\n    currentIndex = (currentIndex + 1) % targets.length;\n    const startPosition = getElementBounds(presentationCard.root);\n    const targetPosition = getElementBounds(targets[currentIndex]);\n    testAnimation.playAnimation(new Vec2(startPosition.centerX, startPosition.centerY), new Vec2(targetPosition.centerX, targetPosition.centerY));\n});\n","class Vec2 {\n    constructor(x, y) {\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n        }\n        else {\n            this.x = x;\n            this.y = y;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new Vec2(this.x / length, this.y / length);\n    }\n    scale(scale) {\n        return new Vec2(this.x * scale, this.y * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y;\n    }\n    static cross(a, b) {\n        return new Vec3(0, 0, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new Vec2(a.x + b.x, a.y + b.y);\n    }\n    static sub(a, b) {\n        return new Vec2(a.x - b.x, a.y - b.y);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y;\n    }\n}\nVec2.Zero = new Vec2(0, 0);\nclass Vec3 {\n    constructor(x, y, z) {\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n            this.z = 0;\n        }\n        else {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        this.z = this.z / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new Vec3(this.x / length, this.y / length, this.z / length);\n    }\n    scale(scale) {\n        return new Vec3(this.x * scale, this.y * scale, this.z * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    }\n    static cross(a, b) {\n        return new Vec3(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new Vec3(a.x + b.x, a.y + b.y, a.z + b.z);\n    }\n    static sub(a, b) {\n        return new Vec3(a.x - b.x, a.y - b.y, a.z - b.z);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y && a.z === b.z;\n    }\n}\nVec3.Zero = new Vec3(0, 0, 0);\nVec3.Up = new Vec3(0, 1, 0);\nVec3.Down = new Vec3(0, -1, 0);\nVec3.Left = new Vec3(-1, 0, 0);\nVec3.Right = new Vec3(1, 0, 0);\nVec3.Forward = new Vec3(0, 0, -1);\nVec3.Backward = new Vec3(0, 0, 1);\nexport { Vec2, Vec3 };\n","import { Vec3 } from './vec';\nimport { addCustomStyle } from './domUtils';\nfunction rotatePitchRoll(vec, pitch, roll) {\n    const cp = Math.cos(pitch);\n    const sp = Math.sin(pitch);\n    const cr = Math.cos(roll);\n    const sr = Math.sin(roll);\n    return new Vec3(vec.x * cp + vec.z * sp, vec.x * sp * sr + vec.y * cr - vec.z * sr * cp, -vec.x * sp * cr + vec.y * sr + vec.z * cp * cr);\n}\nfunction addCardPresentationCapability(cardElements, options) {\n    const card = cardElements.root;\n    card.root = cardElements.root;\n    const zoomElement = cardElements.zoomable;\n    const shadowOffset = {\n        x: options.shadowDistance * Vec3.dot(options.lightDirection, Vec3.Left),\n        y: options.shadowDistance * Vec3.dot(options.lightDirection, Vec3.Down)\n    };\n    cardElements.cardItem.style.filter = `drop-shadow(${shadowOffset.x}px ${shadowOffset.y}px 5px black)`;\n    const shadeDirection = new Vec3(-options.lightDirection.x, -options.lightDirection.y, options.lightDirection.z);\n    card.setOrientation = (position) => {\n        const atanX = Math.atan2(Math.abs(position.x), options.simHeight);\n        const angleX = position.x === 0 ? 0 : position.x > 0 ? atanX : -atanX;\n        const atanY = Math.atan2(Math.abs(position.y), options.simHeight);\n        const angleY = position.y === 0 ? 0 : position.y > 0 ? -atanY : atanY;\n        // Rotating a vector up toward the viewer to the inclination of the card.\n        const normal = rotatePitchRoll(Vec3.Backward, angleX, angleY);\n        const li = Math.pow(Vec3.dot(normal, options.lightDirection), options.lightPower);\n        cardElements.cardItem.style.transform = `rotateY(${angleX}rad) rotateX(${angleY}rad)`;\n        cardElements.shine.style.opacity = `${li * 100}%`;\n        const unLi = Math.pow(Vec3.dot(normal, shadeDirection), options.lightPower);\n        cardElements.shade.style.opacity = `${unLi * 100}%`;\n    };\n    const smoothTransition = addCustomStyle({\n        className: \"zoomin\",\n        content: \"transition: transform 0.25s ease-out;\"\n    });\n    zoomElement.classList.add(smoothTransition);\n    card.setZoom = (zoom) => {\n        zoomElement.style.transform = `scale(${zoom})`;\n    };\n    card.setSmoothOrientation = (enabled) => {\n        if (enabled) {\n            if (!cardElements.cardItem.classList.contains(smoothTransition)) {\n                cardElements.cardItem.classList.add(smoothTransition);\n            }\n        }\n        else {\n            if (cardElements.cardItem.classList.contains(smoothTransition)) {\n                cardElements.cardItem.classList.remove(smoothTransition);\n            }\n        }\n    };\n    return card;\n}\nexport { addCardPresentationCapability };\n","import { v4 as uuid } from 'uuid';\nfunction addCustomStyle(customStyle) {\n    const className = `${customStyle.className}-${uuid()}`;\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.innerHTML = `${customStyle.className ? `.${className}` : ''} ${customStyle.id ? `#${customStyle.id}` : ''} { ${customStyle.content} }`;\n    document.getElementsByTagName('head')[0].appendChild(style);\n    return className;\n}\nfunction getElementBounds(elem) {\n    let box = elem.getBoundingClientRect();\n    return {\n        top: box.top + window.pageYOffset,\n        right: box.right + window.pageXOffset,\n        bottom: box.bottom + window.pageYOffset,\n        left: box.left + window.pageXOffset,\n        centerX: box.left + window.pageXOffset + (box.right - box.left) / 2,\n        centerY: box.top + window.pageYOffset + (box.bottom - box.top) / 2,\n        width: box.right - box.left,\n        height: box.top - box.bottom,\n    };\n}\nexport { addCustomStyle, getElementBounds };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import { Vec2 } from './vec';\nfunction cubicInterpolationBezier(t, params) {\n    const tSquare = t * t;\n    const tCube = tSquare * t;\n    const p1Factor = (3 * tCube - 6 * tSquare + 3 * t);\n    const p2Factor = (-3 * tCube + 3 * tSquare);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + tCube;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + tCube;\n    return new Vec2(posX, posY);\n}\nfunction cubicInterpolationBezierFirstDerivative(t, params) {\n    const tSquare = t * t;\n    const p1Factor = (9 * tSquare - 12 * t + 3);\n    const p2Factor = (-9 * tSquare + 6 * t);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 3 * tSquare;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 3 * tSquare;\n    return new Vec2(posX, posY);\n}\nfunction cubicInterpolationBezierSecondDerivative(t, params) {\n    const p1Factor = (18 * t - 12);\n    const p2Factor = (-19 * t + 6);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 6 * t;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 6 * t;\n    return new Vec2(posX, posY);\n}\nexport { cubicInterpolationBezier, cubicInterpolationBezierFirstDerivative, cubicInterpolationBezierSecondDerivative };\n"],"names":["$568f4ee4022ba00e$var$getRandomValues","$40fc1d077ade7fc8$export$ac4bca90992eed1","constructor","x","y","toString","length","Math","sqrt","normalize","norm","scale","dot","a","b","cross","$40fc1d077ade7fc8$export$838423f3adec30fa","add","sub","equal","Zero","z","Up","Down","Left","Right","Forward","Backward","$7ffc1f94643dc7e4$var$randomUUID","crypto","randomUUID","bind","$7ffc1f94643dc7e4$export$2e2bcd8739ae039","$568f4ee4022ba00e$var$rnds8","Uint8Array","$1d0137947e8554ce$var$byteToHex","i","push","slice","$3fa3ae484854b431$export$2e2bcd8739ae039","options","buf","offset","rnds","random","rng","getRandomValues","Error","arr","$d8d1267846f126ff$export$abe5643cba19555f","elem","box","getBoundingClientRect","top","window","pageYOffset","right","pageXOffset","bottom","left","centerX","centerY","width","height","$77ac944da51b7354$var$container","document","getElementById","$77ac944da51b7354$var$card","$77ac944da51b7354$var$cardItem","$77ac944da51b7354$var$shine","$77ac944da51b7354$var$shade","$77ac944da51b7354$var$cardOptions","lightDirection","simHeight","lightPower","shadowDistance","$77ac944da51b7354$var$presentationCard","cardElements","card","root","zoomElement","zoomable","shadowOffset","cardItem","style","filter","shadeDirection","setOrientation","position","atanX","atan2","abs","angleX","atanY","angleY","normal","$d17c23253d859e11$var$rotatePitchRoll","vec","pitch","roll","cp","cos","sp","sin","cr","sr","li","pow","transform","shine","opacity","unLi","shade","smoothTransition","customStyle","className","createElement","type","innerHTML","id","content","getElementsByTagName","appendChild","classList","setZoom","zoom","setSmoothOrientation","enabled","contains","remove","$77ac944da51b7354$var$isDragging","$77ac944da51b7354$var$startMove","$77ac944da51b7354$var$endMove","addEventListener","ev","target","targetRect","evPosition","clientX","clientY","preventDefault","touches","$77ac944da51b7354$var$testButton","$77ac944da51b7354$var$targets","$77ac944da51b7354$var$currentIndex","$77ac944da51b7354$var$testAnimation","duration","p0","p1","endTime","startTime","playAnimation","performance","now","requestAnimationFrame","$77ac944da51b7354$var$lerpCardAnimationCallback","timeStamp","t","$77ac944da51b7354$var$lerpCardElement","travel","console","log","bezierParams","p1x","p1y","p2x","p2y","direction","transformedTime","params","tSquare","tCube","p1Factor","p2Factor","posX","posY","currentPos","transformedAcceleration","_ev","startPosition","targetPosition"],"version":3,"file":"index.56b4feea.js.map"}