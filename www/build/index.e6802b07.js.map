{"mappings":"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","sources":["<anon>","js/main.js","js/vec.js","js/cardTool.js","js/domUtils.js","node_modules/uuid/dist/esm-browser/v4.js","node_modules/uuid/dist/esm-browser/native.js","node_modules/uuid/dist/esm-browser/rng.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/regex.js","js/math.js"],"sourcesContent":["class $40fc1d077ade7fc8$export$ac4bca90992eed1 {\n    constructor(x, y){\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n        } else {\n            this.x = x;\n            this.y = y;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(this.x / length, this.y / length);\n    }\n    scale(scale) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(this.x * scale, this.y * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y;\n    }\n    static cross(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(a.x + b.x, a.y + b.y);\n    }\n    static sub(a, b) {\n        return new $40fc1d077ade7fc8$export$ac4bca90992eed1(a.x - b.x, a.y - b.y);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y;\n    }\n}\n$40fc1d077ade7fc8$export$ac4bca90992eed1.Zero = new $40fc1d077ade7fc8$export$ac4bca90992eed1(0, 0);\nclass $40fc1d077ade7fc8$export$838423f3adec30fa {\n    constructor(x, y, z){\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n            this.z = 0;\n        } else {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        this.z = this.z / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(this.x / length, this.y / length, this.z / length);\n    }\n    scale(scale) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(this.x * scale, this.y * scale, this.z * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    }\n    static cross(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.x + b.x, a.y + b.y, a.z + b.z);\n    }\n    static sub(a, b) {\n        return new $40fc1d077ade7fc8$export$838423f3adec30fa(a.x - b.x, a.y - b.y, a.z - b.z);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y && a.z === b.z;\n    }\n}\n$40fc1d077ade7fc8$export$838423f3adec30fa.Zero = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Up = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 1, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Down = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, -1, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Left = new $40fc1d077ade7fc8$export$838423f3adec30fa(-1, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Right = new $40fc1d077ade7fc8$export$838423f3adec30fa(1, 0, 0);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Forward = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, -1);\n$40fc1d077ade7fc8$export$838423f3adec30fa.Backward = new $40fc1d077ade7fc8$export$838423f3adec30fa(0, 0, 1);\n\n\n\nconst $7ffc1f94643dc7e4$var$randomUUID = typeof crypto !== \"undefined\" && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar $7ffc1f94643dc7e4$export$2e2bcd8739ae039 = {\n    randomUUID: $7ffc1f94643dc7e4$var$randomUUID\n};\n\n\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet $568f4ee4022ba00e$var$getRandomValues;\nconst $568f4ee4022ba00e$var$rnds8 = new Uint8Array(16);\nfunction $568f4ee4022ba00e$export$2e2bcd8739ae039() {\n    // lazy load so that environments that need to polyfill have a chance to do so\n    if (!$568f4ee4022ba00e$var$getRandomValues) {\n        // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n        $568f4ee4022ba00e$var$getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n        if (!$568f4ee4022ba00e$var$getRandomValues) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n    }\n    return $568f4ee4022ba00e$var$getRandomValues($568f4ee4022ba00e$var$rnds8);\n}\n\n\nvar $32c496bfb6c27b56$export$2e2bcd8739ae039 = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\n\nfunction $46d323206dcbf256$var$validate(uuid) {\n    return typeof uuid === \"string\" && (0, $32c496bfb6c27b56$export$2e2bcd8739ae039).test(uuid);\n}\nvar $46d323206dcbf256$export$2e2bcd8739ae039 = $46d323206dcbf256$var$validate;\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */ const $1d0137947e8554ce$var$byteToHex = [];\nfor(let i = 0; i < 256; ++i)$1d0137947e8554ce$var$byteToHex.push((i + 0x100).toString(16).slice(1));\nfunction $1d0137947e8554ce$export$8fb373d660548968(arr, offset = 0) {\n    // Note: Be careful editing this code!  It's been tuned for performance\n    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n    return $1d0137947e8554ce$var$byteToHex[arr[offset + 0]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 1]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 2]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 3]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 4]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 5]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 6]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 7]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 8]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 9]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 10]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 11]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 12]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 13]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 14]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 15]];\n}\nfunction $1d0137947e8554ce$var$stringify(arr, offset = 0) {\n    const uuid = $1d0137947e8554ce$export$8fb373d660548968(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n    // of the following:\n    // - One or more input array values don't map to a hex octet (leading to\n    // \"undefined\" in the uuid)\n    // - Invalid input values for the RFC `version` or `variant` fields\n    if (!(0, $46d323206dcbf256$export$2e2bcd8739ae039)(uuid)) throw TypeError(\"Stringified UUID is invalid\");\n    return uuid;\n}\nvar $1d0137947e8554ce$export$2e2bcd8739ae039 = $1d0137947e8554ce$var$stringify;\n\n\nfunction $3fa3ae484854b431$var$v4(options, buf, offset) {\n    if ((0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID && !buf && !options) return (0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID();\n    options = options || {};\n    const rnds = options.random || (options.rng || (0, $568f4ee4022ba00e$export$2e2bcd8739ae039))(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] & 0x0f | 0x40;\n    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n    if (buf) {\n        offset = offset || 0;\n        for(let i = 0; i < 16; ++i)buf[offset + i] = rnds[i];\n        return buf;\n    }\n    return (0, $1d0137947e8554ce$export$8fb373d660548968)(rnds);\n}\nvar $3fa3ae484854b431$export$2e2bcd8739ae039 = $3fa3ae484854b431$var$v4;\n\n\nfunction $d8d1267846f126ff$export$f12349273d662298(customStyle) {\n    const className = `${customStyle.className}-${(0, $3fa3ae484854b431$export$2e2bcd8739ae039)()}`;\n    var style = document.createElement(\"style\");\n    style.type = \"text/css\";\n    style.innerHTML = `${customStyle.className ? `.${className}` : \"\"} ${customStyle.id ? `#${customStyle.id}` : \"\"} { ${customStyle.content} }`;\n    document.getElementsByTagName(\"head\")[0].appendChild(style);\n    return className;\n}\nfunction $d8d1267846f126ff$export$abe5643cba19555f(elem) {\n    let box = elem.getBoundingClientRect();\n    return {\n        top: box.top + window.pageYOffset,\n        right: box.right + window.pageXOffset,\n        bottom: box.bottom + window.pageYOffset,\n        left: box.left + window.pageXOffset,\n        centerX: box.left + window.pageXOffset + (box.right - box.left) / 2,\n        centerY: box.top + window.pageYOffset + (box.bottom - box.top) / 2,\n        width: box.right - box.left,\n        height: box.top - box.bottom\n    };\n}\n\n\n\nclass $cb1b9efbe9b1b9d8$export$b48b438cc953f482 {\n}\n$cb1b9efbe9b1b9d8$export$b48b438cc953f482.EaseInOut = {\n    p1x: 0.32,\n    p1y: 0.0,\n    p2x: 0.5,\n    p2y: 1\n};\n$cb1b9efbe9b1b9d8$export$b48b438cc953f482.Linear = {\n    p1x: .32,\n    p1y: .32,\n    p2x: .75,\n    p2y: .75\n};\n$cb1b9efbe9b1b9d8$export$b48b438cc953f482.DefaultBezierParams = {\n    p1x: 0.5,\n    p1y: 0.5,\n    p2x: 0.5,\n    p2y: 0.5\n};\nfunction $cb1b9efbe9b1b9d8$export$94c2a1b8e24fe1d1(t, params) {\n    const tSquare = t * t;\n    const tCube = tSquare * t;\n    const p1Factor = 3 * tCube - 6 * tSquare + 3 * t;\n    const p2Factor = -3 * tCube + 3 * tSquare;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + tCube;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + tCube;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\nfunction $cb1b9efbe9b1b9d8$export$944dabb2371ca403(t, params) {\n    const tSquare = t * t;\n    const p1Factor = 9 * tSquare - 12 * t + 3;\n    const p2Factor = -9 * tSquare + 6 * t;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 3 * tSquare;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 3 * tSquare;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\nfunction $cb1b9efbe9b1b9d8$export$ad824134262aeab6(t, params) {\n    const p1Factor = 18 * t - 12;\n    const p2Factor = -19 * t + 6;\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 6 * t;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 6 * t;\n    return new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n}\n\n\nfunction $d17c23253d859e11$var$rotatePitchRoll(vec, pitch, roll) {\n    const cp = Math.cos(pitch);\n    const sp = Math.sin(pitch);\n    const cr = Math.cos(roll);\n    const sr = Math.sin(roll);\n    return new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(vec.x * cp + vec.z * sp, vec.x * sp * sr + vec.y * cr - vec.z * sr * cp, -vec.x * sp * cr + vec.y * sr + vec.z * cp * cr);\n}\nlet $d17c23253d859e11$var$lastFrameTimeStamp = 0;\nlet $d17c23253d859e11$var$frameDelay = 0;\nconst $d17c23253d859e11$var$cardAnimations = [];\nfunction $d17c23253d859e11$var$cardAnimationCallback(timeStamp) {\n    const currentFrameTimeStamp = performance.now();\n    $d17c23253d859e11$var$frameDelay = currentFrameTimeStamp - $d17c23253d859e11$var$lastFrameTimeStamp;\n    $d17c23253d859e11$var$lastFrameTimeStamp = currentFrameTimeStamp;\n    $d17c23253d859e11$var$cardAnimations.forEach((element)=>{\n        element.animationFrame($d17c23253d859e11$var$frameDelay);\n    });\n    requestAnimationFrame($d17c23253d859e11$var$cardAnimationCallback);\n}\n$d17c23253d859e11$var$cardAnimationCallback(performance.now());\nclass $d17c23253d859e11$var$CardLerpAnimation {\n    constructor(target, rotationFactor){\n        this.target = target;\n        this.rotationFactor = rotationFactor;\n        this.duration = 0;\n        this.p0 = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n        this.p1 = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n        this.travel = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n        this.endTime = 0;\n        this.elapsedTime = 0;\n        this.startTime = -1;\n        this.bezierParams = (0, $cb1b9efbe9b1b9d8$export$b48b438cc953f482).DefaultBezierParams;\n        this.direction = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero;\n    }\n    startAnimation(p0, p1, speed, bezierParams) {\n        this.p0 = p0;\n        this.p1 = p1;\n        const distance = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).sub(p1, p0).length();\n        this.duration = distance / speed;\n        this.startTime = performance.now() - $d17c23253d859e11$var$frameDelay;\n        this.endTime = this.startTime + this.duration;\n        this.elapsedTime = 0;\n        this.travel = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).sub(p1, p0);\n        this.direction = this.travel.norm();\n        this.bezierParams = bezierParams;\n        if (!$d17c23253d859e11$var$cardAnimations.find((e)=>e === this)) $d17c23253d859e11$var$cardAnimations.push(this);\n    }\n    animationFrame(dt) {\n        this.elapsedTime += dt;\n        if (this.elapsedTime > this.duration || this.duration === 0) {\n            this.target.root.style.left = `${this.p1.x}px`;\n            this.target.root.style.top = `${this.p1.y}px`;\n            this.target.setOrientation((0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero);\n            $d17c23253d859e11$var$cardAnimations.splice($d17c23253d859e11$var$cardAnimations.findIndex((e)=>e === this), 1);\n            return;\n        }\n        const t = this.elapsedTime / this.duration;\n        const rotationFactor = this.rotationFactor;\n        const transformedTime = (0, $cb1b9efbe9b1b9d8$export$94c2a1b8e24fe1d1)(t, this.bezierParams);\n        const currentPos = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).add(this.p0, this.travel.scale(transformedTime.y));\n        this.target.root.style.left = `${currentPos.x}px`;\n        this.target.root.style.top = `${currentPos.y}px`;\n        const transformedAcceleration = (0, $cb1b9efbe9b1b9d8$export$944dabb2371ca403)(t, this.bezierParams).scale(rotationFactor);\n        this.target.setOrientation(this.direction.scale(transformedAcceleration.y));\n    }\n}\nfunction $d17c23253d859e11$export$5f4c79da71562cde(cardElements, options) {\n    const card = cardElements.root;\n    card.root = cardElements.root;\n    const zoomElement = cardElements.zoomable;\n    const shadowOffset = {\n        x: options.shadowDistance * (0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(options.lightDirection, (0, $40fc1d077ade7fc8$export$838423f3adec30fa).Left),\n        y: options.shadowDistance * (0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(options.lightDirection, (0, $40fc1d077ade7fc8$export$838423f3adec30fa).Down)\n    };\n    cardElements.cardItem.style.filter = `drop-shadow(${shadowOffset.x}px ${shadowOffset.y}px 5px black)`;\n    const shadeDirection = new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(-options.lightDirection.x, -options.lightDirection.y, options.lightDirection.z);\n    card.setOrientation = (position)=>{\n        const atanX = Math.atan2(Math.abs(position.x), options.simHeight);\n        const angleX = position.x === 0 ? 0 : position.x > 0 ? atanX : -atanX;\n        const atanY = Math.atan2(Math.abs(position.y), options.simHeight);\n        const angleY = position.y === 0 ? 0 : position.y > 0 ? -atanY : atanY;\n        // Rotating a vector up toward the viewer to the inclination of the card.\n        const normal = $d17c23253d859e11$var$rotatePitchRoll((0, $40fc1d077ade7fc8$export$838423f3adec30fa).Backward, angleX, angleY);\n        const li = Math.pow((0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(normal, options.lightDirection), options.lightPower);\n        cardElements.cardItem.style.transform = `rotateY(${angleX}rad) rotateX(${angleY}rad)`;\n        cardElements.shine.style.opacity = `${li * 100}%`;\n        const unLi = Math.pow((0, $40fc1d077ade7fc8$export$838423f3adec30fa).dot(normal, shadeDirection), options.lightPower);\n        cardElements.shade.style.opacity = `${unLi * 100}%`;\n    };\n    const smoothTransition = (0, $d8d1267846f126ff$export$f12349273d662298)({\n        className: \"zoomin\",\n        content: \"transition: transform 0.25s ease-out;\"\n    });\n    zoomElement.classList.add(smoothTransition);\n    card.setZoom = (zoom)=>{\n        zoomElement.style.transform = `scale(${zoom})`;\n    };\n    card.setSmoothOrientation = (enabled)=>{\n        if (enabled) {\n            if (!cardElements.cardItem.classList.contains(smoothTransition)) cardElements.cardItem.classList.add(smoothTransition);\n        } else if (cardElements.cardItem.classList.contains(smoothTransition)) cardElements.cardItem.classList.remove(smoothTransition);\n    };\n    card.lerpAnimator = new $d17c23253d859e11$var$CardLerpAnimation(card, 100);\n    return card;\n}\n\n\n\n\n\nconst $77ac944da51b7354$var$board = document.getElementById(\"game-board\");\nconst $77ac944da51b7354$var$container = document.getElementById(\"card-root\");\nfunction $77ac944da51b7354$var$makeCard(rootNode) {\n    const cardClassName = `PresentationCard${(0, $3fa3ae484854b431$export$2e2bcd8739ae039)()}`;\n    rootNode.classList.add(cardClassName);\n    const card = document.querySelector(`.${cardClassName} #card`);\n    const cardItem = document.querySelector(`.${cardClassName} #card-item`);\n    const shine = document.querySelector(`.${cardClassName} #shine`);\n    const shade = document.querySelector(`.${cardClassName} #shade`);\n    const cardElements = {\n        root: rootNode,\n        zoomable: card,\n        cardItem: cardItem,\n        shine: shine,\n        shade: shade\n    };\n    const cardOptions = {\n        lightDirection: new (0, $40fc1d077ade7fc8$export$838423f3adec30fa)(.15, -1, .25).normalize(),\n        simHeight: 190,\n        lightPower: 1.5,\n        shadowDistance: 5\n    };\n    const presentationCard = (0, $d17c23253d859e11$export$5f4c79da71562cde)(cardElements, cardOptions);\n    return presentationCard;\n}\nconst $77ac944da51b7354$var$presentationCard = $77ac944da51b7354$var$makeCard($77ac944da51b7354$var$container);\nlet $77ac944da51b7354$var$draggedObject = null;\nlet $77ac944da51b7354$var$isSelected = false;\nlet $77ac944da51b7354$var$startTouchTimeStamp = 0;\nconst $77ac944da51b7354$var$clickDragThreshold = 500;\nfunction $77ac944da51b7354$var$startInput(card) {\n    if ($77ac944da51b7354$var$isSelected) {\n        $77ac944da51b7354$var$presentationCard.setSmoothOrientation(true);\n        $77ac944da51b7354$var$presentationCard.setZoom(1);\n    }\n    $77ac944da51b7354$var$draggedObject = card;\n    $77ac944da51b7354$var$presentationCard.setSmoothOrientation(false);\n    $77ac944da51b7354$var$startTouchTimeStamp = performance.now();\n}\nfunction $77ac944da51b7354$var$endInput() {\n    const inputDuration = performance.now() - $77ac944da51b7354$var$startTouchTimeStamp;\n    if (inputDuration < $77ac944da51b7354$var$clickDragThreshold) {\n        if (!$77ac944da51b7354$var$isSelected) {\n            $77ac944da51b7354$var$isSelected = true;\n            $77ac944da51b7354$var$presentationCard.setZoom(2);\n        } else {\n            $77ac944da51b7354$var$isSelected = false;\n            $77ac944da51b7354$var$presentationCard.setZoom(1);\n        }\n    }\n    if ($77ac944da51b7354$var$draggedObject) $77ac944da51b7354$var$draggedObject = null;\n}\nfunction $77ac944da51b7354$var$cardFollowPosition(card, posX, posY) {\n    if ($77ac944da51b7354$var$isSelected) {\n        const targetRect = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$presentationCard);\n        const evPosition = new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX - targetRect.centerX, posY - targetRect.centerY);\n        card.setOrientation(evPosition);\n    }\n}\nfunction $77ac944da51b7354$var$setupCardInput(targetCard) {\n    targetCard.root.addEventListener(\"mousedown\", (_)=>{\n        $77ac944da51b7354$var$startInput(targetCard);\n    });\n    targetCard.root.addEventListener(\"mouseup\", (_)=>{\n    //endInput();\n    });\n    targetCard.root.addEventListener(\"pointerleave\", (_)=>{\n        if ($77ac944da51b7354$var$isSelected) {\n            $77ac944da51b7354$var$isSelected = false;\n            targetCard.setZoom(1);\n            targetCard.setOrientation((0, $40fc1d077ade7fc8$export$ac4bca90992eed1).Zero);\n        }\n    });\n    targetCard.root.addEventListener(\"touchstart\", (ev)=>{\n        const target = ev.target;\n        $77ac944da51b7354$var$startInput(target);\n    }, false);\n    targetCard.root.addEventListener(\"touchcancel\", (ev)=>{\n        $77ac944da51b7354$var$endInput();\n    }, false);\n    targetCard.root.addEventListener(\"touchend\", (ev)=>{\n        $77ac944da51b7354$var$endInput();\n    }, false);\n    targetCard.root.addEventListener(\"mousemove\", (ev)=>{\n        $77ac944da51b7354$var$cardFollowPosition(targetCard, ev.clientX, ev.clientY);\n    });\n    targetCard.root.addEventListener(\"touchmove\", (ev)=>{\n        const positionHolder = ev.targetTouches[0];\n        $77ac944da51b7354$var$cardFollowPosition(targetCard, positionHolder.clientX, positionHolder.clientY);\n    });\n}\n$77ac944da51b7354$var$setupCardInput($77ac944da51b7354$var$presentationCard);\nconst $77ac944da51b7354$var$testButton = document.getElementById(\"test-button\");\nconst $77ac944da51b7354$var$targets = [\n    document.getElementById(\"target-1\"),\n    document.getElementById(\"target-2\"),\n    document.getElementById(\"target-3\"),\n    document.getElementById(\"target-4\")\n];\nlet $77ac944da51b7354$var$currentIndex = 0;\n$77ac944da51b7354$var$testButton.addEventListener(\"click\", (_ev)=>{\n    $77ac944da51b7354$var$currentIndex = ($77ac944da51b7354$var$currentIndex + 1) % $77ac944da51b7354$var$targets.length;\n    const startPosition = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$presentationCard.root);\n    const targetPosition = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$targets[$77ac944da51b7354$var$currentIndex]);\n    $77ac944da51b7354$var$presentationCard.lerpAnimator.startAnimation(new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(startPosition.centerX, startPosition.centerY), new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(targetPosition.centerX, targetPosition.centerY), .65, (0, $cb1b9efbe9b1b9d8$export$b48b438cc953f482).EaseInOut);\n});\nfunction $77ac944da51b7354$var$boardMove(card, posX, posY) {\n    const startPosition = (0, $d8d1267846f126ff$export$abe5643cba19555f)(card.root);\n    const start = new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(startPosition.centerX, startPosition.centerY);\n    const end = new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(posX, posY);\n    const travelLength = (0, $40fc1d077ade7fc8$export$ac4bca90992eed1).sub(end, start).length();\n    const lerpLowerBound = 45;\n    const lerpUpperBound = 180;\n    const minSpeed = .8;\n    const maxSpeed = 2.7;\n    // Computing the distance versus the lower upper bound (if distance is low keep the low speed, speedup as distance is high)\n    let lp = (travelLength - lerpLowerBound) / (lerpUpperBound - lerpLowerBound);\n    // clamping between 0 and 1\n    if (lp < 0) lp = 0;\n    else if (lp > 1) lp = 1;\n    // Applying a ramp\n    lp = lp * lp;\n    // converting to speed\n    const lerpedSpeed = (maxSpeed - minSpeed) * lp + minSpeed;\n    card.lerpAnimator.startAnimation(start, end, lerpedSpeed, (0, $cb1b9efbe9b1b9d8$export$b48b438cc953f482).Linear);\n}\n$77ac944da51b7354$var$board.addEventListener(\"mousemove\", (event)=>{\n    if ($77ac944da51b7354$var$draggedObject) $77ac944da51b7354$var$boardMove($77ac944da51b7354$var$draggedObject, event.clientX, event.clientY);\n});\n$77ac944da51b7354$var$board.addEventListener(\"touchmove\", (event)=>{\n    if ($77ac944da51b7354$var$draggedObject) {\n        const target = event.targetTouches[0];\n        $77ac944da51b7354$var$boardMove($77ac944da51b7354$var$draggedObject, target.clientX, target.clientY - 150);\n    }\n});\n$77ac944da51b7354$var$board.addEventListener(\"mouseup\", ()=>{\n    $77ac944da51b7354$var$endInput();\n});\nconst $77ac944da51b7354$var$cloned = $77ac944da51b7354$var$container.cloneNode(true);\n$77ac944da51b7354$var$board.appendChild($77ac944da51b7354$var$cloned);\nconst $77ac944da51b7354$var$clonedCard = $77ac944da51b7354$var$makeCard($77ac944da51b7354$var$cloned);\n$77ac944da51b7354$var$setupCardInput($77ac944da51b7354$var$clonedCard);\nconst $77ac944da51b7354$var$clonedBound = (0, $d8d1267846f126ff$export$abe5643cba19555f)($77ac944da51b7354$var$cloned);\n$77ac944da51b7354$var$clonedCard.lerpAnimator.startAnimation(new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)($77ac944da51b7354$var$clonedBound.centerX, $77ac944da51b7354$var$clonedBound.centerY), new (0, $40fc1d077ade7fc8$export$ac4bca90992eed1)(600, 300), .5, (0, $cb1b9efbe9b1b9d8$export$b48b438cc953f482).EaseInOut); //setupSandboxCurves(presentationCard.lerpAnimator.getBezierParams(1));\n\n\n//# sourceMappingURL=index.e6802b07.js.map\n","import { Vec2, Vec3 } from './vec';\nimport { addCardPresentationCapability } from './cardTool';\nimport { getElementBounds } from './domUtils';\nimport { v4 as uuid } from 'uuid';\nimport { BezierPreset } from './math';\nconst board = document.getElementById('game-board');\nconst container = document.getElementById('card-root');\nfunction makeCard(rootNode) {\n    const cardClassName = `PresentationCard${uuid()}`;\n    rootNode.classList.add(cardClassName);\n    const card = document.querySelector(`.${cardClassName} #card`);\n    const cardItem = document.querySelector(`.${cardClassName} #card-item`);\n    const shine = document.querySelector(`.${cardClassName} #shine`);\n    const shade = document.querySelector(`.${cardClassName} #shade`);\n    const cardElements = {\n        root: rootNode,\n        zoomable: card,\n        cardItem: cardItem,\n        shine: shine,\n        shade: shade,\n    };\n    const cardOptions = {\n        lightDirection: (new Vec3(.15, -1, .25)).normalize(),\n        simHeight: 190,\n        lightPower: 1.5,\n        shadowDistance: 5\n    };\n    const presentationCard = addCardPresentationCapability(cardElements, cardOptions);\n    return presentationCard;\n}\nconst presentationCard = makeCard(container);\nlet draggedObject = null;\nlet isSelected = false;\nlet startTouchTimeStamp = 0;\nconst clickDragThreshold = 500;\nfunction startInput(card) {\n    if (isSelected) {\n        presentationCard.setSmoothOrientation(true);\n        presentationCard.setZoom(1);\n    }\n    draggedObject = card;\n    presentationCard.setSmoothOrientation(false);\n    startTouchTimeStamp = performance.now();\n}\nfunction endInput() {\n    const inputDuration = performance.now() - startTouchTimeStamp;\n    if (inputDuration < clickDragThreshold) {\n        if (!isSelected) {\n            isSelected = true;\n            presentationCard.setZoom(2);\n        }\n        else {\n            isSelected = false;\n            presentationCard.setZoom(1);\n        }\n    }\n    if (draggedObject) {\n        draggedObject = null;\n    }\n}\nfunction cardFollowPosition(card, posX, posY) {\n    if (isSelected) {\n        const targetRect = getElementBounds(presentationCard);\n        const evPosition = new Vec2(posX - targetRect.centerX, posY - targetRect.centerY);\n        card.setOrientation(evPosition);\n    }\n}\nfunction setupCardInput(targetCard) {\n    targetCard.root.addEventListener('mousedown', (_) => {\n        startInput(targetCard);\n    });\n    targetCard.root.addEventListener('mouseup', (_) => {\n        //endInput();\n    });\n    targetCard.root.addEventListener('pointerleave', (_) => {\n        if (isSelected) {\n            isSelected = false;\n            targetCard.setZoom(1);\n            targetCard.setOrientation(Vec2.Zero);\n        }\n    });\n    targetCard.root.addEventListener(\"touchstart\", (ev) => {\n        const target = ev.target;\n        startInput(target);\n    }, false);\n    targetCard.root.addEventListener(\"touchcancel\", (ev) => {\n        endInput();\n    }, false);\n    targetCard.root.addEventListener(\"touchend\", (ev) => {\n        endInput();\n    }, false);\n    targetCard.root.addEventListener('mousemove', (ev) => {\n        cardFollowPosition(targetCard, ev.clientX, ev.clientY);\n    });\n    targetCard.root.addEventListener('touchmove', (ev) => {\n        const positionHolder = ev.targetTouches[0];\n        cardFollowPosition(targetCard, positionHolder.clientX, positionHolder.clientY);\n    });\n}\nsetupCardInput(presentationCard);\nconst testButton = document.getElementById('test-button');\nconst targets = [\n    document.getElementById('target-1'),\n    document.getElementById('target-2'),\n    document.getElementById('target-3'),\n    document.getElementById('target-4'),\n];\nlet currentIndex = 0;\ntestButton.addEventListener('click', (_ev) => {\n    currentIndex = (currentIndex + 1) % targets.length;\n    const startPosition = getElementBounds(presentationCard.root);\n    const targetPosition = getElementBounds(targets[currentIndex]);\n    presentationCard.lerpAnimator.startAnimation(new Vec2(startPosition.centerX, startPosition.centerY), new Vec2(targetPosition.centerX, targetPosition.centerY), .65, BezierPreset.EaseInOut);\n});\nfunction boardMove(card, posX, posY) {\n    const startPosition = getElementBounds(card.root);\n    const start = new Vec2(startPosition.centerX, startPosition.centerY);\n    const end = new Vec2(posX, posY);\n    const travelLength = Vec2.sub(end, start).length();\n    const lerpLowerBound = 45;\n    const lerpUpperBound = 180;\n    const minSpeed = .8;\n    const maxSpeed = 2.7;\n    // Computing the distance versus the lower upper bound (if distance is low keep the low speed, speedup as distance is high)\n    let lp = (travelLength - lerpLowerBound) / (lerpUpperBound - lerpLowerBound);\n    // clamping between 0 and 1\n    if (lp < 0) {\n        lp = 0;\n    }\n    else if (lp > 1) {\n        lp = 1;\n    }\n    // Applying a ramp\n    lp = lp * lp;\n    // converting to speed\n    const lerpedSpeed = (maxSpeed - minSpeed) * lp + minSpeed;\n    card.lerpAnimator.startAnimation(start, end, lerpedSpeed, BezierPreset.Linear);\n}\nboard.addEventListener('mousemove', (event) => {\n    if (draggedObject) {\n        boardMove(draggedObject, event.clientX, event.clientY);\n    }\n});\nboard.addEventListener('touchmove', (event) => {\n    if (draggedObject) {\n        const target = event.targetTouches[0];\n        boardMove(draggedObject, target.clientX, target.clientY - 150);\n    }\n});\nboard.addEventListener('mouseup', () => {\n    endInput();\n});\nconst cloned = container.cloneNode(true);\nboard.appendChild(cloned);\nconst clonedCard = makeCard(cloned);\nsetupCardInput(clonedCard);\nconst clonedBound = getElementBounds(cloned);\nclonedCard.lerpAnimator.startAnimation(new Vec2(clonedBound.centerX, clonedBound.centerY), new Vec2(600, 300), .5, BezierPreset.EaseInOut);\n//setupSandboxCurves(presentationCard.lerpAnimator.getBezierParams(1));\n","class Vec2 {\n    constructor(x, y) {\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n        }\n        else {\n            this.x = x;\n            this.y = y;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new Vec2(this.x / length, this.y / length);\n    }\n    scale(scale) {\n        return new Vec2(this.x * scale, this.y * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y;\n    }\n    static cross(a, b) {\n        return new Vec3(0, 0, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new Vec2(a.x + b.x, a.y + b.y);\n    }\n    static sub(a, b) {\n        return new Vec2(a.x - b.x, a.y - b.y);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y;\n    }\n}\nVec2.Zero = new Vec2(0, 0);\nclass Vec3 {\n    constructor(x, y, z) {\n        if (x === null) {\n            this.x = 0;\n            this.y = 0;\n            this.z = 0;\n        }\n        else {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z})`;\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    normalize() {\n        const length = this.length();\n        this.x = this.x / length;\n        this.y = this.y / length;\n        this.z = this.z / length;\n        return this;\n    }\n    norm() {\n        const length = this.length();\n        return new Vec3(this.x / length, this.y / length, this.z / length);\n    }\n    scale(scale) {\n        return new Vec3(this.x * scale, this.y * scale, this.z * scale);\n    }\n    static dot(a, b) {\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    }\n    static cross(a, b) {\n        return new Vec3(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x);\n    }\n    static add(a, b) {\n        return new Vec3(a.x + b.x, a.y + b.y, a.z + b.z);\n    }\n    static sub(a, b) {\n        return new Vec3(a.x - b.x, a.y - b.y, a.z - b.z);\n    }\n    static equal(a, b) {\n        return a.x === b.x && a.y === b.y && a.z === b.z;\n    }\n}\nVec3.Zero = new Vec3(0, 0, 0);\nVec3.Up = new Vec3(0, 1, 0);\nVec3.Down = new Vec3(0, -1, 0);\nVec3.Left = new Vec3(-1, 0, 0);\nVec3.Right = new Vec3(1, 0, 0);\nVec3.Forward = new Vec3(0, 0, -1);\nVec3.Backward = new Vec3(0, 0, 1);\nexport { Vec2, Vec3 };\n","import { Vec2, Vec3 } from './vec';\nimport { addCustomStyle } from './domUtils';\nimport { BezierPreset, cubicInterpolationBezier, cubicInterpolationBezierFirstDerivative } from './math';\nfunction rotatePitchRoll(vec, pitch, roll) {\n    const cp = Math.cos(pitch);\n    const sp = Math.sin(pitch);\n    const cr = Math.cos(roll);\n    const sr = Math.sin(roll);\n    return new Vec3(vec.x * cp + vec.z * sp, vec.x * sp * sr + vec.y * cr - vec.z * sr * cp, -vec.x * sp * cr + vec.y * sr + vec.z * cp * cr);\n}\nlet lastFrameTimeStamp = 0;\nlet frameDelay = 0;\nconst cardAnimations = [];\nfunction cardAnimationCallback(timeStamp) {\n    const currentFrameTimeStamp = performance.now();\n    frameDelay = currentFrameTimeStamp - lastFrameTimeStamp;\n    lastFrameTimeStamp = currentFrameTimeStamp;\n    cardAnimations.forEach(element => {\n        element.animationFrame(frameDelay);\n    });\n    requestAnimationFrame(cardAnimationCallback);\n}\ncardAnimationCallback(performance.now());\nclass CardLerpAnimation {\n    constructor(target, rotationFactor) {\n        this.target = target;\n        this.rotationFactor = rotationFactor;\n        this.duration = 0;\n        this.p0 = Vec2.Zero;\n        this.p1 = Vec2.Zero;\n        this.travel = Vec2.Zero;\n        this.endTime = 0;\n        this.elapsedTime = 0;\n        this.startTime = -1;\n        this.bezierParams = BezierPreset.DefaultBezierParams;\n        this.direction = Vec2.Zero;\n    }\n    ;\n    startAnimation(p0, p1, speed, bezierParams) {\n        this.p0 = p0;\n        this.p1 = p1;\n        const distance = (Vec2.sub(p1, p0).length());\n        this.duration = distance / speed;\n        this.startTime = performance.now() - frameDelay;\n        this.endTime = this.startTime + this.duration;\n        this.elapsedTime = 0;\n        this.travel = Vec2.sub(p1, p0);\n        this.direction = this.travel.norm();\n        this.bezierParams = bezierParams;\n        if (!cardAnimations.find((e) => e === this)) {\n            cardAnimations.push(this);\n        }\n    }\n    animationFrame(dt) {\n        this.elapsedTime += dt;\n        if (this.elapsedTime > this.duration || this.duration === 0) {\n            this.target.root.style.left = `${this.p1.x}px`;\n            this.target.root.style.top = `${this.p1.y}px`;\n            this.target.setOrientation(Vec2.Zero);\n            cardAnimations.splice(cardAnimations.findIndex((e) => e === this), 1);\n            return;\n        }\n        const t = this.elapsedTime / this.duration;\n        const rotationFactor = this.rotationFactor;\n        const transformedTime = cubicInterpolationBezier(t, this.bezierParams);\n        const currentPos = Vec2.add(this.p0, this.travel.scale(transformedTime.y));\n        this.target.root.style.left = `${currentPos.x}px`;\n        this.target.root.style.top = `${currentPos.y}px`;\n        const transformedAcceleration = cubicInterpolationBezierFirstDerivative(t, this.bezierParams).scale(rotationFactor);\n        this.target.setOrientation(this.direction.scale(transformedAcceleration.y));\n    }\n}\nfunction addCardPresentationCapability(cardElements, options) {\n    const card = cardElements.root;\n    card.root = cardElements.root;\n    const zoomElement = cardElements.zoomable;\n    const shadowOffset = {\n        x: options.shadowDistance * Vec3.dot(options.lightDirection, Vec3.Left),\n        y: options.shadowDistance * Vec3.dot(options.lightDirection, Vec3.Down)\n    };\n    cardElements.cardItem.style.filter = `drop-shadow(${shadowOffset.x}px ${shadowOffset.y}px 5px black)`;\n    const shadeDirection = new Vec3(-options.lightDirection.x, -options.lightDirection.y, options.lightDirection.z);\n    card.setOrientation = (position) => {\n        const atanX = Math.atan2(Math.abs(position.x), options.simHeight);\n        const angleX = position.x === 0 ? 0 : position.x > 0 ? atanX : -atanX;\n        const atanY = Math.atan2(Math.abs(position.y), options.simHeight);\n        const angleY = position.y === 0 ? 0 : position.y > 0 ? -atanY : atanY;\n        // Rotating a vector up toward the viewer to the inclination of the card.\n        const normal = rotatePitchRoll(Vec3.Backward, angleX, angleY);\n        const li = Math.pow(Vec3.dot(normal, options.lightDirection), options.lightPower);\n        cardElements.cardItem.style.transform = `rotateY(${angleX}rad) rotateX(${angleY}rad)`;\n        cardElements.shine.style.opacity = `${li * 100}%`;\n        const unLi = Math.pow(Vec3.dot(normal, shadeDirection), options.lightPower);\n        cardElements.shade.style.opacity = `${unLi * 100}%`;\n    };\n    const smoothTransition = addCustomStyle({\n        className: \"zoomin\",\n        content: \"transition: transform 0.25s ease-out;\"\n    });\n    zoomElement.classList.add(smoothTransition);\n    card.setZoom = (zoom) => {\n        zoomElement.style.transform = `scale(${zoom})`;\n    };\n    card.setSmoothOrientation = (enabled) => {\n        if (enabled) {\n            if (!cardElements.cardItem.classList.contains(smoothTransition)) {\n                cardElements.cardItem.classList.add(smoothTransition);\n            }\n        }\n        else {\n            if (cardElements.cardItem.classList.contains(smoothTransition)) {\n                cardElements.cardItem.classList.remove(smoothTransition);\n            }\n        }\n    };\n    card.lerpAnimator = new CardLerpAnimation(card, 100);\n    return card;\n}\nexport { addCardPresentationCapability };\n","import { v4 as uuid } from 'uuid';\nfunction addCustomStyle(customStyle) {\n    const className = `${customStyle.className}-${uuid()}`;\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.innerHTML = `${customStyle.className ? `.${className}` : ''} ${customStyle.id ? `#${customStyle.id}` : ''} { ${customStyle.content} }`;\n    document.getElementsByTagName('head')[0].appendChild(style);\n    return className;\n}\nfunction getElementBounds(elem) {\n    let box = elem.getBoundingClientRect();\n    return {\n        top: box.top + window.pageYOffset,\n        right: box.right + window.pageXOffset,\n        bottom: box.bottom + window.pageYOffset,\n        left: box.left + window.pageXOffset,\n        centerX: box.left + window.pageXOffset + (box.right - box.left) / 2,\n        centerY: box.top + window.pageYOffset + (box.bottom - box.top) / 2,\n        width: box.right - box.left,\n        height: box.top - box.bottom,\n    };\n}\nexport { addCustomStyle, getElementBounds };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import { Vec2 } from './vec';\nclass BezierPreset {\n}\nBezierPreset.EaseInOut = {\n    p1x: 0.32,\n    p1y: 0.0,\n    p2x: 0.5,\n    p2y: 1\n};\nBezierPreset.Linear = {\n    p1x: .32,\n    p1y: .32,\n    p2x: .75,\n    p2y: .75\n};\nBezierPreset.DefaultBezierParams = {\n    p1x: 0.5,\n    p1y: 0.5,\n    p2x: 0.5,\n    p2y: 0.5,\n};\nfunction cubicInterpolationBezier(t, params) {\n    const tSquare = t * t;\n    const tCube = tSquare * t;\n    const p1Factor = (3 * tCube - 6 * tSquare + 3 * t);\n    const p2Factor = (-3 * tCube + 3 * tSquare);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + tCube;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + tCube;\n    return new Vec2(posX, posY);\n}\nfunction cubicInterpolationBezierFirstDerivative(t, params) {\n    const tSquare = t * t;\n    const p1Factor = (9 * tSquare - 12 * t + 3);\n    const p2Factor = (-9 * tSquare + 6 * t);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 3 * tSquare;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 3 * tSquare;\n    return new Vec2(posX, posY);\n}\nfunction cubicInterpolationBezierSecondDerivative(t, params) {\n    const p1Factor = (18 * t - 12);\n    const p2Factor = (-19 * t + 6);\n    const posX = params.p1x * p1Factor + params.p2x * p2Factor + 6 * t;\n    const posY = params.p1y * p1Factor + params.p2y * p2Factor + 6 * t;\n    return new Vec2(posX, posY);\n}\nexport { BezierPreset, cubicInterpolationBezier, cubicInterpolationBezierFirstDerivative, cubicInterpolationBezierSecondDerivative };\n"],"names":["$568f4ee4022ba00e$var$getRandomValues","$40fc1d077ade7fc8$export$ac4bca90992eed1","constructor","x","y","toString","length","Math","sqrt","normalize","norm","scale","dot","a","b","cross","$40fc1d077ade7fc8$export$838423f3adec30fa","add","sub","equal","Zero","z","Up","Down","Left","Right","Forward","Backward","$7ffc1f94643dc7e4$var$randomUUID","crypto","randomUUID","bind","$7ffc1f94643dc7e4$export$2e2bcd8739ae039","$568f4ee4022ba00e$var$rnds8","Uint8Array","$1d0137947e8554ce$var$byteToHex","i","push","slice","$3fa3ae484854b431$export$2e2bcd8739ae039","options","buf","offset","rnds","random","rng","getRandomValues","Error","arr","$d8d1267846f126ff$export$abe5643cba19555f","elem","box","getBoundingClientRect","top","window","pageYOffset","right","pageXOffset","bottom","left","centerX","centerY","width","height","$cb1b9efbe9b1b9d8$export$b48b438cc953f482","EaseInOut","p1x","p1y","p2x","p2y","Linear","DefaultBezierParams","$d17c23253d859e11$var$lastFrameTimeStamp","$d17c23253d859e11$var$frameDelay","$d17c23253d859e11$var$cardAnimations","$d17c23253d859e11$var$cardAnimationCallback","timeStamp","currentFrameTimeStamp","performance","now","forEach","element","animationFrame","requestAnimationFrame","$d17c23253d859e11$var$CardLerpAnimation","target","rotationFactor","duration","p0","p1","travel","endTime","elapsedTime","startTime","bezierParams","direction","startAnimation","speed","distance","find","e","dt","root","style","setOrientation","splice","findIndex","t","transformedTime","params","tSquare","tCube","p1Factor","p2Factor","posX","posY","currentPos","transformedAcceleration","$77ac944da51b7354$var$board","document","getElementById","$77ac944da51b7354$var$container","$77ac944da51b7354$var$makeCard","rootNode","cardClassName","classList","card","querySelector","cardItem","shine","shade","cardOptions","lightDirection","simHeight","lightPower","shadowDistance","presentationCard","cardElements","zoomElement","zoomable","shadowOffset","filter","shadeDirection","position","atanX","atan2","abs","angleX","atanY","angleY","normal","$d17c23253d859e11$var$rotatePitchRoll","vec","pitch","roll","cp","cos","sp","sin","cr","sr","li","pow","transform","opacity","unLi","smoothTransition","customStyle","className","createElement","type","innerHTML","id","content","getElementsByTagName","appendChild","setZoom","zoom","setSmoothOrientation","enabled","contains","remove","lerpAnimator","$77ac944da51b7354$var$presentationCard","$77ac944da51b7354$var$draggedObject","$77ac944da51b7354$var$isSelected","$77ac944da51b7354$var$startTouchTimeStamp","$77ac944da51b7354$var$startInput","$77ac944da51b7354$var$endInput","inputDuration","$77ac944da51b7354$var$cardFollowPosition","targetRect","evPosition","$77ac944da51b7354$var$setupCardInput","targetCard","addEventListener","_","ev","clientX","clientY","positionHolder","targetTouches","$77ac944da51b7354$var$testButton","$77ac944da51b7354$var$targets","$77ac944da51b7354$var$currentIndex","$77ac944da51b7354$var$boardMove","startPosition","start","end","travelLength","lp","lerpUpperBound","lerpedSpeed","maxSpeed","_ev","targetPosition","event","$77ac944da51b7354$var$cloned","cloneNode","$77ac944da51b7354$var$clonedCard","$77ac944da51b7354$var$clonedBound"],"version":3,"file":"index.e6802b07.js.map"}